{"version":3,"sources":["components/common/FormsControls/FormsControls.jsx","hoc/withAuthRedirect.js","redux/dialogs-reducer.js","api/api.js","components/common/Preloader/Preloader.module.css","components/Profile/ProfileInfo/ProfileStatusWithHooks.jsx","components/Profile/ProfileInfo/ProfileDataForm.jsx","components/Profile/ProfileInfo/ProfileInfo.jsx","components/Profile/MyPosts/Post/Post.jsx","components/Profile/MyPosts/MyPosts.jsx","components/Profile/MyPosts/MyPostsContainer.jsx","components/Profile/Profile.jsx","components/Profile/ProfileContainer.jsx","components/Profile/ProfileInfo/ProfileInfo.module.css","components/Navbar/Navbar.module.css","reportWebVitals.js","components/Navbar/Navbar.jsx","components/News/News.jsx","components/Settings/Settings.jsx","components/Music/Music.jsx","components/common/Paginator/Paginator.jsx","components/Users/User.jsx","components/Users/Users.jsx","utils/object-helpers.js","redux/users-reducer.js","redux/users-selectors.js","components/Users/UsersContainer.jsx","components/Header/Header.jsx","redux/auth-reducer.js","components/Header/HeaderContainer.jsx","components/Login/Login.jsx","redux/app-reducer.js","redux/sidebar-reducer.js","redux/redux-store.js","App.js","index.js","redux/profile-reducer.js","components/Users/Users.module.css","assets/images/loading.svg","components/common/Preloader/Preloader.jsx","components/common/FormsControls/FormsControls.module.css","utils/validators/validators.js","components/Profile/MyPosts/Post/Post.module.css","components/Header/Header.module.css","assets/images/avatar.png","components/common/Paginator/Paginator.module.css","components/Profile/MyPosts/MyPosts.module.css"],"names":["FormControl","input","meta","touched","error","children","hasError","className","style","formControl","Textarea","props","restProps","child","Input","createField","placeholder","name","validators","component","text","validate","mapStateToPropsForRedirect","state","isAuth","auth","withAuthRedirect","Component","RedirectComponent","this","to","React","connect","SEND_MESSAGE","initialSate","dialogs","id","messages","message","sendMessageCreator","newMessageBody","type","dialogsReducer","action","body","instance","axios","create","withCredentials","baseURL","headers","usersAPI","getUsers","currentPage","pageSize","get","then","response","data","followUser","userId","post","unFollowUser","delete","getProfile","console","warn","profileAPI","getStatus","updateStatus","status","put","savePhoto","photoFile","formData","FormData","append","saveProfile","profile","authAPI","me","login","email","password","rememberMe","captcha","logout","securityAPI","getCaptchaUrl","module","exports","ProfileStatusWithHooks","useState","editMode","setEditMode","setStatus","useEffect","ProfileStatus","onDoubleClick","onBlur","autoFocus","onChange","e","currentTarget","value","ProfileDataFromReduxForm","reduxForm","form","handleSubmit","aboutMe","info","onSubmit","buttonSave","formSummaryError","userName","Object","keys","contacts","map","key","contact","ProfileData","isOwner","goToEditMode","editBtn","onClick","fullName","lookingForAJob","lookingForAJobDescription","contactTitle","contactValue","Contact","ProfileInfo","Preloader","userCard","avatar","src","photos","large","alt","inputChangeImage","target","files","initialValues","Post","item","post_avatar","like","MyPosts","maxLengthCreator","memo","log","postsElement","posts","el","likeCount","MyPostsFormRedux","values","addNewPost","newPost","list","Field","required","MyPostsContainer","profilePage","newPostText","dispatch","addPostActionCreator","Profile","withRouter","WrappedComponent","params","useParams","ProfileContainer","authorizationUserId","getUserProfile","refreshProfile","prevProps","prevState","snapshot","compose","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","Navbar","nav","navData","isActive","active","News","Settings","Music","Paginator","totalItemsCount","onPageChanged","portionSize","pagesCount","Math","ceil","pages","i","push","portionCount","portionNumber","setPortionNumber","leftPortionPageNumber","rightPortionPageNumber","classes","pagination","filter","p","selectedPage","User","user","followingInProgress","unFollow","follow","toggleFollowingProgress","small","userPhoto","following","disabled","resultCode","country","Users","users","usersBlock","updateObjectInArray","items","itemId","objPropName","newObjProps","FOLLOW","UNFOLLOW","SET_USERS","SET_CURRENT_PAGE","SET_USERS_TOTAL_COUNT","TOGGLE_IS_FETCHING","TOGGLE_IS_FOLLOWING_PROGRESS","initialState","totalUsersCount","isFetching","setCurrentPage","toggleIsFetching","usersReducer","followed","count","createSelector","usersPage","u","getPageSize","getTotalUsersCount","getCurrentPage","getIsFetching","getFollowingInProgress","UsersContainer","pageNumber","followinginProgress","page","a","totalCount","Header","header","logo","href","loginBlock","SET_USER_DATA","GET_CAPTCHA_URL_SUCCESS","usersId","captchaUrl","setAuthUserData","payload","getCaptchaUrlSuccess","getAuthUserData","url","authReducer","HeaderContainer","LoginReduxForm","loginWrapper","inputs","length","stopSubmit","_error","INITIALIZED_SUCCESS","initialized","appReducer","sidebar","sidebarReducer","reducers","combineReducers","profileReducer","dialogsPage","formReducer","app","store","createStore","applyMiddleware","thunkMiddleware","window","__REDUX_DEVTOOLS_EXTENSION__","DialogsContainer","lazy","App","initializeApp","RedirectToProfile","path","element","fallback","AppContainer","promise","Promise","all","SamuraiJSApp","ReactDOM","render","document","getElementById","ADD_POST","SET_USER_PROFILE","SET_STATUS","DELETE_POST","SAVE_PHOTO_SUCCESS","file","photo","getState","reject","elem","idPost","loadingSvg","maxLength"],"mappings":"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","file":"static/js/main.cc294586.chunk.js","sourcesContent":["import React from \"react\";\nimport style from './FormsControls.module.css'\nimport {Field} from \"redux-form\";\n\n\nconst FormControl = ({input, meta: {touched, error}, children}) => {\n    const hasError = touched && error;\n    return (\n        <div className={style.formControl + \" \" + (hasError ? style.error : '')}>\n            <div>\n                {children}\n            </div>\n            {hasError && <span>{error}</span>}\n        </div>\n    )\n}\n\nexport const Textarea = (props) => {\n    const {input, meta, child, ...restProps} = props\n    return (\n        <FormControl {...props}><textarea {...input} {...restProps}/></FormControl>\n    )\n}\nexport const Input = (props) => {\n    const {input, meta, child, ...restProps} = props\n    return (\n        <FormControl {...props}><input {...input} {...restProps}/></FormControl>\n    )\n}\n\nexport const createField = (placeholder, name, validators, component, props = {}, text = '') => (\n    <div>\n        <Field name={name} component={component}\n               placeholder={placeholder}\n               validate={validators}\n               {...props}\n        />{text}\n    </div>\n)\n\n","import React from \"react\";\nimport {Navigate} from \"react-router-dom\";\nimport {connect} from \"react-redux\";\n\nlet mapStateToPropsForRedirect = (state) => ({\n    isAuth: state.auth.isAuth\n})\nexport const withAuthRedirect = (Component) => {\n  class RedirectComponent extends React.Component{\n      render() {\n          if(!this.props.isAuth) return <Navigate to='/login'/>\n          return <Component {...this.props}/>\n      }\n\n  }\n\n\n   let ConnectedAuthRedirectComponent = connect(mapStateToPropsForRedirect)(RedirectComponent)\n  return ConnectedAuthRedirectComponent;\n}","\nconst SEND_MESSAGE = 'SEND_MESSAGE'\n\nlet initialSate = {\n    dialogs: [\n        {id: 1, name: 'Andrey'},\n        {id: 2, name: 'Kate'},\n        {id: 3, name: 'Misha'},\n        {id: 4, name: 'Richard'},\n    ],\n    messages: [\n        {id: 1, message: 'messages'},\n        {id: 2, message: 'Yo'},\n        {id: 3, message: 'My name is Alexandr'},\n        {id: 4, message: 'Hi boy'},\n    ],\n\n}\nconst dialogsReducer = (state = initialSate, action) => {\n    switch (action.type) {\n\n        case SEND_MESSAGE:\n            let body = action.newMessageBody\n            return {\n                ...state,\n\n                messages: [...state.messages, {id: 10, message: body}]\n            }\n        default:\n            return state\n    }\n\n}\n\nexport const sendMessageCreator = (newMessageBody) => ({type: SEND_MESSAGE,newMessageBody})\n\n\nexport default dialogsReducer;","import axios from \"axios\";\n\nconst instance = axios.create({\n    withCredentials: true,\n    baseURL: 'https://social-network.samuraijs.com/api/1.0/',\n    headers: {\"API-KEY\": \"dca0bffd-93b4-4f32-8b36-9a7d9a4b6c8c\"}\n});\n\nexport const usersAPI = {\n    getUsers(currentPage = 1, pageSize = 10) {\n        return instance.get(`users?page=${currentPage}&count=${pageSize}`\n        )\n            .then(response => response.data)\n    },\n    followUser(userId) {\n        return instance.post(`follow/${userId}`)\n\n    },\n    unFollowUser(userId = 1, pageSize = 10) {\n        return instance.delete(`follow/${userId}`)\n\n    },\n    getProfile(userId) {\n        console.warn('Obsolute method/ Please profileAPI object')\n        return profileAPI.getProfile(userId)\n\n    }\n}\n\nexport const profileAPI = {\n\n    getProfile(userId) {\n        return instance.get(`profile/` + userId);\n\n    },\n    getStatus(userId) {\n        return instance.get(`profile/status/` + userId);\n    },\n    updateStatus(status) {\n        return instance.put(`profile/status`, {status: status});\n    },\n    savePhoto(photoFile) {\n        const formData = new FormData();\n        formData.append('image', photoFile)\n        return instance.put(`profile/photo`, formData, {headers: {'Content-type': 'multipart/form-data'}});\n    },\n    saveProfile(profile) {\n        return instance.put(`profile`,  profile);\n\n    }\n\n}\n\n\nexport const authAPI = {\n    me() {\n        return instance.get(`auth/me`);\n    },\n    login(email, password, rememberMe = false, captcha=null) {\n        return instance.post(`auth/login`, {email, password, rememberMe,captcha});\n    },\n    logout(email, password, rememberMe = false) {\n        return instance.delete(`auth/login`);\n    },\n}\n\nexport const securityAPI = {\n    getCaptchaUrl() {\n        return instance.get(`security/get-captcha-url`);\n    }\n\n}\n\n\n\n\n\n\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"avatar\":\"Preloader_avatar__1O2Uh\",\"follow\":\"Preloader_follow__2OyxW\",\"selectedPage\":\"Preloader_selectedPage__1BHA2\",\"pagination\":\"Preloader_pagination__1_i5Q\",\"loadingSvg\":\"Preloader_loadingSvg__2t119\",\"user\":\"Preloader_user__37XKn\",\"info\":\"Preloader_info__jUxMq\",\"name\":\"Preloader_name__1QmRK\",\"country\":\"Preloader_country__1rLGY\",\"showMore\":\"Preloader_showMore__lJRe_\"};","import React, {useEffect, useState} from \"react\";\nimport style from \"./ProfileInfo.module.css\";\n\nconst ProfileStatusWithHooks = (props) => {\n\n    const [editMode, setEditMode] = useState(false)\n    const [status, setStatus] = useState(props.status)\n\n    useEffect(() => {\n        setStatus(props.status)\n    }, [props.status])\n\n    const activateMode = () => {\n        setEditMode(true)\n    }\n    const deActivateEditMode = () => {\n        setEditMode(false)\n        props.updateStatus(status)\n\n    }\n    const onStatusChange = (e) => {\n        setStatus(e.currentTarget.value)\n    }\n\n    return (\n        <div className={style.ProfileStatus}>\n            {!editMode &&\n                <div>\n                    <span\n                        onDoubleClick={activateMode}\n                    > Статус: {props.status || 'Non status'}</span>\n                </div>\n            }\n            {editMode &&\n                <div>\n                    <input\n                        onBlur={deActivateEditMode}\n                        autoFocus={true}\n                        onChange={onStatusChange}\n                        value={status}\n                    />\n                </div>\n            }\n\n        </div>\n    )\n\n\n}\n\nexport default ProfileStatusWithHooks;\n","import React from \"react\";\nimport {createField, Input, Textarea} from \"../../common/FormsControls/FormsControls\";\nimport {reduxForm} from \"redux-form\";\nimport ProfileStatusWithHooks from \"./ProfileStatusWithHooks\";\n\nimport style from './ProfileInfo.module.css'\n\n\nconst ProfileDataForm = ({handleSubmit, status, updateStatus, profile, aboutMe, error}) => {\n    return (\n        <form className={style.info} onSubmit={handleSubmit}>\n\n            <div>\n                <button className={style.buttonSave}>Save</button>\n            </div>\n            {error && <div className={style.formSummaryError}>\n                {error}\n            </div>}\n            <div className={style.userName}>Full name: {createField(\"Full name\", \"fullName\", [], Input)}</div>\n            <div>Ищу работу:\n                {createField(\"\", \"lookingForAJob\", [], Input, {type: 'checkbox'})}\n            </div>\n            <div>\n                Мои скиллы:\n                {createField(\"My skills\", \"lookingForAJobDescription\", [], Textarea)}\n            </div>\n            <div>О себе: {aboutMe}\n\n                {createField(\"About me\", \"aboutMe\", [], Textarea)}\n            </div>\n            <p>Контакты:</p> {Object.keys(profile.contacts).map(key => {\n            return <div key={key} className={style.contact}>\n                <b>{key}: </b>{createField(key, \"contacts.\" + key, [], Input)}\n\n            </div>\n        })}\n\n            <p><ProfileStatusWithHooks status={status} updateStatus={updateStatus}/></p>\n\n\n        </form>\n    )\n    // (<Contact key={key} contactTitle={key} contactValue={profile.contacts[key]}/>)\n}\nconst ProfileDataFromReduxForm = reduxForm({form: 'edit-profile'})(ProfileDataForm)\nexport default ProfileDataFromReduxForm;","import React, {useState} from \"react\";\nimport style from \"./ProfileInfo.module.css\";\nimport Preloader from \"../../common/Preloader/Preloader\";\nimport ProfileStatusWithHooks from \"./ProfileStatusWithHooks\";\nimport defaultPhoto from '../../../assets/images/avatar.png'\nimport ProfileDataForm from \"./ProfileDataForm\";\n\n\nconst ProfileInfo = ({profile, isOwner, savePhoto, saveProfile, status, updateStatus}) => {\n\n    const [editMode, setEditMode] = useState(false)\n    if (!profile) {\n        return <Preloader/>\n    }\n    const onMainPhotoSelected = (e) => {\n        savePhoto(e.target.files[0])\n    }\n\n    const onSubmit = (formData) => {\n        saveProfile(formData).then(\n            () => {\n                setEditMode(false)\n            })\n    }\n\n    return (\n        <div>\n\n            {/*<div className={style.image_top}>*/}\n            {/*    <img src=\"https://www.orangesmile.com/ru/foto/usa/fodder120132.jpg\" alt='image'/>*/}\n            {/*</div>*/}\n\n\n            <div className={style.userCard}>\n\n                <div className={style.avatar}>\n                    <img src={profile.photos && profile.photos.large} alt=''/>\n                    {isOwner && <input className={style.inputChangeImage} type={'file'}\n                                       onChange={onMainPhotoSelected}\n\n\n                    />}\n                </div>\n                {editMode ? <ProfileDataForm\n                        profile={profile}\n                        onSubmit={onSubmit}\n                        initialValues={profile}\n                    /> :\n                    <ProfileData\n                        profile={profile}\n                        isOwner={isOwner}\n                        status={status}\n                        updateStatus={updateStatus}\n                        goToEditMode={() => {\n                            setEditMode(true)\n                        }}\n\n                    />}\n\n\n            </div>\n\n        </div>\n    );\n};\nconst ProfileData = ({profile, status, updateStatus, isOwner, goToEditMode}) => {\n    return (\n\n        <div className={style.info}>\n\n            {isOwner &&\n                <div>\n                    <button className={style.editBtn} onClick={goToEditMode}>✐</button>\n\n                </div>}\n\n            <p className={style.userName}>{profile.fullName}</p>\n            <p><ProfileStatusWithHooks status={status} updateStatus={updateStatus}/></p>\n            <p>О себе:{profile.aboutMe || ' Нет записи'}</p>\n            <p>Ищу работу:{profile.lookingForAJob ? ' Да' : ' Нет'}</p>\n\n            <p>\n                Мои скиллы: {profile.lookingForAJobDescription}\n            </p>\n\n            <p>Контакты: {Object.keys(profile.contacts).map(key => {\n                return (<Contact key={key} contactTitle={key} contactValue={profile.contacts[key]}/>)\n            })}</p>\n\n\n        </div>\n    )\n\n}\n\nexport const Contact = ({contactTitle, contactValue}) => {\n    return (\n        <div>\n            <b>{contactTitle}</b>: {contactValue}\n        </div>\n    )\n}\n\nexport default ProfileInfo;\n","import React from \"react\";\nimport style from \"./Post.module.css\";\n\nconst Post = (props) => {\n  return (\n    <div className={style.item}>\n      <img\n        className={style.post_avatar}\n        src=\"https://cabinet.miem.hse.ru/public-api/user/7/avatar\"\n        alt=\"\"\n      />\n\n      {props.message}\n      <div className={style.like}>\n        <span>like</span>\n      </div>\n    </div>\n  );\n};\n\nexport default Post;\n","import React from \"react\";\nimport style from \"./MyPosts.module.css\";\nimport Post from \"./Post/Post\";\nimport {Field, reduxForm} from \"redux-form\";\nimport {maxLengthCreator, required} from \"../../../utils/validators/validators\";\nimport {Textarea} from \"../../common/FormsControls/FormsControls\";\n\nconst maxLength10 = maxLengthCreator(10)\n\nconst MyPosts = React.memo(props => {\n    console.log('RENDER')\n\n    let postsElement = props.posts.map(el =>\n\n        <Post\n            post={el.id}\n            message={el.message}\n            likeCount={el.likeCount}\n            key={el.id}\n        />\n    )\n\n\n    const addPost = (values) => {\n        props.addNewPost(values.newPost)\n    }\n\n    return (\n        <div>\n            <div className={style.input}>\n                <MyPostsFormRedux onSubmit={addPost}/>\n            </div>\n            My posts:\n            <div className={style.list}>\n                {postsElement}\n            </div>\n        </div>\n    );\n})\n\nconst MyPostsForm = (props) => {\n    return (\n        <form onSubmit={props.handleSubmit}>\n            <Field component={Textarea} name=\"newPost\" placeholder=\"Enter new post...\"\n                   validate={[required]}/>\n            <button>Add post</button>\n        </form>\n    )\n}\nconst MyPostsFormRedux = reduxForm({form: 'myPostsForm'})(MyPostsForm)\nexport default MyPosts;\n","\nimport {connect} from \"react-redux\";\nimport {addPostActionCreator} from \"../../../redux/profile-reducer\";\nimport MyPosts from \"./MyPosts\";\n\nlet mapStateToProps = (state) => {\n\n    return {\n        posts: state.profilePage.posts,\n        newPostText: state.profilePage.newPostText\n\n    }\n\n}\n\nlet mapDispatchToProps = (dispatch) => {\n    return {\n        addNewPost: (newPostText) => {\n            dispatch(addPostActionCreator(newPostText))\n        },\n\n    }\n}\n\nconst MyPostsContainer = connect(mapStateToProps, mapDispatchToProps)(MyPosts)\n\nexport default MyPostsContainer;","import React from \"react\";\nimport ProfileInfo from \"./ProfileInfo/ProfileInfo\";\nimport MyPostsContainer from \"./MyPosts/MyPostsContainer\";\n\n\nconst Profile = (props) => {\n\n    return (\n        <div>\n            <ProfileInfo savePhoto={props.savePhoto}\n                         isOwner={props.isOwner}\n                         profile={props.profile}\n                         status={props.status}\n                         saveProfile={props.saveProfile}\n                         updateStatus={props.updateStatus}/>\n            <MyPostsContainer/>\n\n        </div>\n    );\n};\n\nexport default Profile;\n","import React from \"react\";\nimport Profile from \"./Profile\";\nimport {connect} from \"react-redux\";\nimport {getStatus, getUserProfile, savePhoto, saveProfile, updateStatus} from \"../../redux/profile-reducer\";\nimport {useParams} from \"react-router-dom\"\nimport {withAuthRedirect} from \"../../hoc/withAuthRedirect\";\nimport {compose} from \"redux\";\n\nexport const withRouter = WrappedComponent => props => {\n    const params = useParams();\n    return (\n        <WrappedComponent\n            {...props}\n            params={params}\n        />\n    );\n};\n\nexport class ProfileContainer extends React.Component {\n    refreshProfile() {\n\n        let userId = this.props.params.userId;\n        if (!userId) {\n            userId = this.props.authorizationUserId;\n        }\n        this.props.getUserProfile(userId)\n        this.props.getStatus(userId)\n\n    }\n\n    componentDidMount() {\n        this.refreshProfile()\n    }\n\n    componentDidUpdate(prevProps, prevState, snapshot) {\n        this.refreshProfile()\n    }\n\n    render() {\n\n        return (\n            <Profile {...this.props} profile={this.props.profile}\n                     isOwner={!this.props.params.userId}\n                     status={this.props.status}\n                     updateStatus={this.props.updateStatus}\n                     savePhoto={this.props.savePhoto}\n                     saveProfile={this.props.saveProfile}\n            />\n        )\n    }\n\n};\n\nlet mapStateToProps = (state) => ({\n    profile: state.profilePage.profile,\n    status: state.profilePage.status,\n    authorizationUserId: state.auth.userId,\n    isAuth: state.auth.isAuth\n\n})\n\nexport default compose(\n    connect(mapStateToProps, {getUserProfile, getStatus, updateStatus, savePhoto, saveProfile}),\n    withRouter,\n    withAuthRedirect,\n)(ProfileContainer);\n\n\n\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"userCard\":\"ProfileInfo_userCard__3Fj9F\",\"ProfileStatus\":\"ProfileInfo_ProfileStatus__8fmwU\",\"editBtn\":\"ProfileInfo_editBtn__2EkcE\",\"image_top\":\"ProfileInfo_image_top__3ddW5\",\"avatar\":\"ProfileInfo_avatar__3xuFq\",\"inputChangeImage\":\"ProfileInfo_inputChangeImage__2n_9V\",\"buttonSave\":\"ProfileInfo_buttonSave__1M_Hn\",\"info\":\"ProfileInfo_info__3dsdE\",\"formSummaryError\":\"ProfileInfo_formSummaryError__3Pphw\",\"userName\":\"ProfileInfo_userName__2XnM7\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"nav\":\"Navbar_nav__2imOE\",\"item\":\"Navbar_item__zmMk4\",\"active\":\"Navbar_active__3mbhk\"};","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from \"react\";\nimport style from \"./Navbar.module.css\";\nimport {NavLink} from \"react-router-dom\";\n\nconst Navbar = () => {\n    return (\n        <nav className={style.nav}>\n            <div className={style.item}>\n                <NavLink  to=\"/profile\" className={navData=>navData.isActive ? style.active : style.item}>Profile</NavLink>\n            </div>\n            <div className={style.item}>\n                <NavLink  to=\"/dialogs\" className={navData=>navData.isActive ? style.active : style.item}>Messages</NavLink>\n            </div>\n            <div className={style.item}>\n                <NavLink  to=\"/users\" className={navData=>navData.isActive ? style.active : style.item}>Users</NavLink>\n            </div>\n        </nav>\n    );\n};\n\nexport default Navbar;\n","import React from \"react\";\nconst News =(props)=>{\n    return (\n        <div>\n            News\n        </div>\n    )\n}\n\nexport default News;","import React from \"react\";\nconst Settings =(props)=>{\n    return (\n        <div>\n            Settings\n        </div>\n    )\n}\n\nexport default Settings;","import React from \"react\";\nconst Music =(props)=>{\n    return (\n        <div>\n            Music\n        </div>\n    )\n}\n\nexport default Music;","import React, {useState} from \"react\";\nimport style from \"./Paginator.module.css\";\nimport classes from \"classnames\"\n\nconst Paginator = ({totalItemsCount, pageSize, currentPage, onPageChanged, portionSize = 10}) => {\n\n    let pagesCount = Math.ceil(totalItemsCount / pageSize)\n    let pages = []\n    for (let i = 1; i <= pagesCount; i++) {\n        pages.push(i)\n    }\n\n    const portionCount = Math.ceil(pagesCount / portionSize)\n    const [portionNumber, setPortionNumber] = useState(1)\n    const leftPortionPageNumber = (portionNumber - 1) * portionSize + 1\n    const rightPortionPageNumber = portionNumber * portionSize\n\n\n    return (\n\n        <div className={classes(style.pagination)}>\n            {portionNumber > 1 &&\n                <button onClick={()=>setPortionNumber(portionNumber - 1)}>Prev</button>\n            }\n            {pages.filter(p => p >= leftPortionPageNumber && p <= rightPortionPageNumber).map(p => {\n                return <span className={classes({[style.selectedPage]: currentPage === p} )}\n                             onClick={() => {\n                                 onPageChanged(p)\n                             }}>{p}</span>\n            })}\n            {portionCount > portionNumber &&\n                <button onClick={()=>setPortionNumber(portionNumber + 1)}>Next</button>\n            }\n        </div>\n\n    )\n\n}\n\nexport default Paginator;","import React from \"react\";\nimport userPhoto from '../../assets/images/avatar.png'\nimport style from \"./Users.module.css\";\nimport {NavLink} from \"react-router-dom\";\nimport {usersAPI} from \"../../api/api\";\n\nlet User = ({user, followingInProgress, unFollow, follow, toggleFollowingProgress}) => {\n\n    return (\n        <div className={style.user}>\n\n\n            <div className={style.follow}>\n                <div className={style.avatar}>\n                    <NavLink to={'/profile/' + user.id}>\n                        <img src={user.photos.small !== null ? user.photos.small : userPhoto} alt='Loading'/>\n                    </NavLink>\n                </div>\n                <div>\n                    {user.following\n                        ?\n                        <button disabled={followingInProgress} onClick={() => {\n                            toggleFollowingProgress(true, user.id)\n                            usersAPI.unFollowUser(user.id)\n                                .then(response => {\n                                    if (response.data.resultCode === 0) {\n                                        unFollow(user.id)\n                                    }\n                                    toggleFollowingProgress(false, user.id)\n\n                                })\n\n                        }}>unFollow</button>\n                        :\n\n                        <button disabled={followingInProgress} onClick={() => {\n                            toggleFollowingProgress(true, user.id)\n                            usersAPI.followUser(user.id)\n                                .then(response => {\n                                    if (response.data.resultCode === 0) {\n                                        follow(user.id)\n                                    }\n                                    toggleFollowingProgress(false, user.id)\n\n                                })\n\n\n                        }}>Follow</button>\n                    }\n\n                </div>\n            </div>\n            <div className={style.info}>\n                <div className={style.name}>\n                    <div>\n                        {user.name}\n                    </div>\n                    <div>\n                        {\"user.status\"}\n                    </div>\n                </div>\n                <div className={style.country}>\n                    <div>\n                        {\"user.location.country\"}\n                    </div>\n                    <div>\n                        {\"user.location.city\"}\n                    </div>\n                </div>\n            </div>\n\n        </div>\n    )\n\n}\n\nexport default User;","import React from \"react\";\nimport Paginator from \"../common/Paginator/Paginator\";\nimport User from \"./User\";\nimport style from \"./Users.module.css\";\n\nlet Users = ({currentPage, totalItemsCount, pageSize, onPageChanged, users, ...props}) => {\n    return (\n        <div>\n            <div className={style.usersBlock}>\n                {users.map(user =>\n                    <User\n                        user={user}\n                        toggleFollowingProgress={props.toggleFollowingProgress}\n                        followingInProgress={props.followingInProgress}\n                        unFollow={props.unFollow}\n                        follow={props.follow}\n\n                    />\n                )}\n            </div>\n            <Paginator\n                currentPage={currentPage}\n                onPageChanged={onPageChanged}\n                totalItemsCount={totalItemsCount}\n                pageSize={pageSize}\n            />\n        </div>\n    )\n\n}\n\nexport default Users;","export const updateObjectInArray = (items,itemId,objPropName,newObjProps) => {\n  return   items.map(user => {\n        if (user[objPropName] === itemId) {\n            return {...user, ...newObjProps}\n        }\n        return user\n    })\n}","import {usersAPI} from \"../api/api\";\nimport {updateObjectInArray} from \"../utils/object-helpers\";\n\nconst FOLLOW = 'FOLLOW'\nconst UNFOLLOW = 'UNFOLLOW'\nconst SET_USERS = 'SET_USERS'\nconst SET_CURRENT_PAGE = 'SET_CURRENT_PAGE'\nconst SET_USERS_TOTAL_COUNT = 'SET_USERS_TOTAL_COUNT'\nconst TOGGLE_IS_FETCHING = 'TOGGLE_IS_FETCHING'\nconst TOGGLE_IS_FOLLOWING_PROGRESS = 'TOGGLE_IS_FOLLOWING_PROGRESS'\n\nlet initialState = {\n    users: [],\n    pageSize: 5,\n    totalUsersCount: 0,\n    currentPage: 1,\n    isFetching: true,\n    followingInProgress: false\n}\n\n\nconst usersReducer = (state = initialState, action) => {\n    switch (action.type) {\n        case FOLLOW:\n            return {\n                ...state,\n                users: updateObjectInArray(state.users, action.userId, 'id', {followed: true})\n            }\n\n        case UNFOLLOW:\n            return {\n                ...state,\n                users: updateObjectInArray(state.users, action.userId, 'id', {followed: false})\n\n            }\n\n        case SET_USERS:\n            return {...state, users: action.users}\n\n        case SET_CURRENT_PAGE:\n            return {...state, currentPage: action.currentPage}\n\n        case SET_USERS_TOTAL_COUNT:\n            return {...state, totalUsersCount: action.count}\n\n        case TOGGLE_IS_FETCHING:\n            return {...state, isFetching: action.isFetching}\n\n        case TOGGLE_IS_FOLLOWING_PROGRESS:\n            return {\n                ...state,\n                followingInProgress: action.isFetching\n                // ? [...state.followingInProgress, action.userId]\n                // : state.followingInProgress.filter(id => id != action.userId)\n\n            }\n        default:\n            return state;\n\n    }\n\n}\n\nexport const follow = (userId) => ({type: FOLLOW, userId})\nexport const unFollow = (userId) => ({type: UNFOLLOW, userId})\nexport const setUsers = (users) => ({type: SET_USERS, users})\nexport const setCurrentPage = (currentPage) => ({type: SET_CURRENT_PAGE, currentPage})\nexport const setUsersTotalCount = (totalUsersCount) => ({type: SET_USERS_TOTAL_COUNT, count: totalUsersCount})\nexport const toggleIsFetching = (isFetching) => ({type: TOGGLE_IS_FETCHING, isFetching})\nexport const toggleFollowingProgress = (isFetching, userId) => ({\n    type: TOGGLE_IS_FOLLOWING_PROGRESS,\n    isFetching,\n    userId\n})\n\n\nexport const requestUsers = (page, pageSize) => {\n    return async (dispatch) => {\n        dispatch(toggleIsFetching(true))\n        dispatch(setCurrentPage(page))\n\n        const data = await usersAPI.getUsers(page, pageSize)\n        dispatch(toggleIsFetching(false))\n        dispatch(setUsers(data.items))\n        dispatch(setUsersTotalCount(data.totalCount))\n    }\n}\n\nexport default usersReducer;","import {createSelector} from \"reselect\";\n\n const getUsersSelector = (state) => {\n\n  return state.usersPage.users\n}\n\nexport const getUsers = createSelector(getUsersSelector,(users)=>{\n return  users.filter(u=>true)\n})\n\nexport const getPageSize = (state) => {\n  return state.usersPage.pageSize\n}\nexport const getTotalUsersCount = (state) => {\n  return state.usersPage.totalUsersCount\n}\nexport const getCurrentPage = (state) => {\n  return state.usersPage.currentPage\n}\nexport const getIsFetching = (state) => {\n  return state.usersPage.isFetching\n}\nexport const getFollowingInProgress = (state) => {\n  return state.usersPage.followingInProgress\n}","import React from \"react\";\nimport Users from \"./Users\";\nimport {\n    follow, requestUsers,\n    setCurrentPage,\n    toggleFollowingProgress,\n    unFollow\n} from \"../../redux/users-reducer\";\nimport {connect} from \"react-redux\";\nimport Preloader from \"../common/Preloader/Preloader\";\nimport {compose} from \"redux\";\nimport {\n    getCurrentPage,\n    getFollowingInProgress,\n    getIsFetching,\n    getPageSize,\n    getTotalUsersCount, getUsers\n} from \"../../redux/users-selectors\";\n\n\nclass UsersContainer extends React.Component {\n\n    componentDidMount() {\n        const {currentPage,pageSize} = this.props\n        this.props.getUsers(currentPage, pageSize);\n    }\n\n    onPageChanged = (pageNumber) => {\n        const {pageSize} = this.props\n        this.props.getUsers(pageNumber,pageSize);\n    }\n\n\n    render() {\n        return <>\n            {this.props.isFetching ? <Preloader/> : null}\n            <Users\n                totalItemsCount={this.props.totalUsersCount}\n                pageSize={this.props.pageSize}\n                currentPage={this.props.currentPage}\n                onPageChanged={this.onPageChanged}\n                users={this.props.users}\n                follow={this.props.follow}\n                unFollow={this.props.unFollow}\n                toggleFollowingProgress={this.props.toggleFollowingProgress}\n                followingInProgress={this.props.followinginProgress}\n            />\n        </>\n\n\n    }\n}\n\nconst mapStateToProps = (state) => {\n    return {\n        users: getUsers(state),\n        pageSize: getPageSize(state),\n        totalUsersCount: getTotalUsersCount(state),\n        currentPage: getCurrentPage(state),\n        isFetching: getIsFetching(state),\n        followingInProgress: getFollowingInProgress(state)\n    }\n\n}\n\n\nexport default compose(\n    connect(mapStateToProps, {\n        follow,\n        unFollow,\n        setCurrentPage,\n        toggleFollowingProgress,\n        getUsers:requestUsers\n\n\n    }))(UsersContainer)","import React from \"react\";\nimport style from \"../Header/Header.module.css\";\nimport {NavLink} from \"react-router-dom\";\n\nconst Header = (props) => {\n    return (\n        <header className={style.header}>\n            <div className={style.logo}>\n                <a href=\"/\">\n                    <img\n                        src=\"https://logoeps.com/wp-content/uploads/2014/09/34405-linkedin-logo-icon-vector-icon-vector-eps.png\"\n                        alt=''/>\n                </a>\n            </div>\n\n            <div className={style.loginBlock}>\n                {props.isAuth\n                    ? <div>{props.login} - <button onClick={props.logout}>Log out</button></div> :\n                    <NavLink to={'/login'}>Login</NavLink>\n                }\n            </div>\n        </header>\n    );\n};\n\nexport default Header;\n","import {authAPI, securityAPI} from \"../api/api\";\nimport {stopSubmit} from \"redux-form\";\n\nconst SET_USER_DATA = 'auth/SET_USER_DATA'\nconst GET_CAPTCHA_URL_SUCCESS = 'security/get-captcha-url/GET_CAPTCHA_URL_SUCCESS'\n\n\nlet initialState = {\n    usersId: null,\n    email: null,\n    login: null,\n    isAuth: false,\n    captchaUrl: null\n}\n\n\nconst authReducer = (state = initialState, action) => {\n    switch (action.type) {\n        case SET_USER_DATA:\n            return {\n                ...state,\n                ...action.payload,\n            }\n            case GET_CAPTCHA_URL_SUCCESS:\n            return {\n                ...state,\n                ...action.payload,\n            }\n        default:\n            return state;\n\n    }\n\n}\n\nexport const setAuthUserData = (userId, email, login, isAuth) => ({\n    type: SET_USER_DATA,\n    payload: {userId, email, login, isAuth}\n})\n\nexport const getCaptchaUrlSuccess = (captchaUrl) => ({\n    type: GET_CAPTCHA_URL_SUCCESS,\n    payload: {captchaUrl}\n})\nexport const getAuthUserData = () => async (dispatch) => {\n    let response = await authAPI.me();\n    if (response.data.resultCode === 0) {\n        let {id, login, email} = response.data.data\n        dispatch(setAuthUserData(id, email, login, true))\n    }\n\n\n}\n\nexport const login = (email, password, rememberMe,captcha) => async (dispatch) => {\n    const response = await authAPI.login(email, password, rememberMe,captcha);\n    if (response.data.resultCode === 0) {\n        dispatch(getAuthUserData())\n    } else {\n        if (response.data.resultCode === 10) {\n            dispatch(getCaptchaUrl())\n        }\n        let message = response.data.messages.length > 0 ? response.data.messages[0] : 'Some error'\n        dispatch(stopSubmit('login', {_error: message}))\n    }\n}\n\nexport const getCaptchaUrl = () => async (dispatch) => {\n    const response = await securityAPI.getCaptchaUrl();\n    const captchaUrl = response.data.url\n    dispatch(getCaptchaUrlSuccess(captchaUrl))\n}\n\nexport const logout = () => (dispatch) => {\n    authAPI.logout()\n        .then(response => {\n            if (response.data.resultCode === 0) {\n                dispatch(setAuthUserData(null, null, null, false))\n            }\n        })\n}\n\n\nexport default authReducer;","import React from \"react\";\nimport Header from \"./Header\";\nimport {connect} from \"react-redux\";\nimport { logout} from \"../../redux/auth-reducer\";\n\nclass HeaderContainer extends React.Component {\n\n\n    render() {\n        return (<Header {...this.props}/>);\n    }\n\n\n};const mapStateToProps = (state) => ({\n    isAuth: state.auth.isAuth, login: state.auth.login,\n})\nexport default connect(mapStateToProps, { logout})(HeaderContainer);\n","import React from \"react\";\nimport {reduxForm} from \"redux-form\";\nimport {connect} from \"react-redux\";\nimport {login} from \"../../redux/auth-reducer\";\nimport {Navigate} from 'react-router-dom';\nimport style from \"../../components/common/FormsControls/FormsControls.module.css\"\nimport {createField, Input} from \"../common/FormsControls/FormsControls\";\nimport {required} from \"../../utils/validators/validators\";\n\n\nconst loginForm = ({handleSubmit, error, captchaUrl}) => {\n    return (\n        <div className={style.loginWrapper}>\n            <div className={style.login}>\n                <form onSubmit={handleSubmit}>\n                    <div className={style.inputs}>\n                        {createField(\"Email\", \"email\", [required], Input)}\n                        {createField(\"password\", \"password\", [required], Input, {type: \"password\"})}\n                        {createField(null, \"rememberMe\", null, Input, {type: \"checkbox\"}, 'Remembe me')}\n                    </div>\n                    {captchaUrl && <img src={captchaUrl} alt=\"\"/>}\n                    {captchaUrl && createField('Введите символы', \"captcha\", [required], Input, {}, '', {})}\n\n                    {error && <div className={style.formSummaryError}>\n                        {error}\n                    </div>}\n\n                    <button type={\"submit\"}>Login</button>\n                </form>\n            </div>\n\n        </div>\n\n    )\n}\nconst LoginReduxForm = reduxForm({\n    form: 'login'\n})(loginForm)\n\n\nconst Login = (props) => {\n    const onSubmit = (formData) => {\n        props.login(formData.email, formData.password, formData.rememberMe, formData.captcha)\n    }\n    if (props.isAuth) {\n        return <Navigate to={'/profile'}/>\n    }\n    return (\n        <div>\n            <h2>Login</h2>\n            <LoginReduxForm captchaUrl={props.captchaUrl} onSubmit={onSubmit}/>\n        </div>\n    )\n}\nconst mapStateToProps = (state) => ({\n    isAuth: state.auth.isAuth,\n    captchaUrl: state.auth.captchaUrl\n})\n\nexport default connect(mapStateToProps, {login})(Login)","import {authAPI} from \"../api/api\";\nimport {stopSubmit} from \"redux-form\";\nimport {getAuthUserData} from \"./auth-reducer\";\n\nconst INITIALIZED_SUCCESS = 'INITIALIZED_SUCCESS'\n\n\nlet initialState = {\n    initialized: false,\n}\n\n\nconst appReducer = (state = initialState, action) => {\n    switch (action.type) {\n        case INITIALIZED_SUCCESS:\n            return {\n                ...state,\n                initialized: true\n            }\n        default:\n            return state;\n\n    }\n\n}\n\nexport const initializedSuccess = () => ({type: INITIALIZED_SUCCESS})\n\n\nexport const initializeApp = () => (dispatch) => {\n    let promise = dispatch(getAuthUserData())\n    Promise.all([promise])\n        .then(() => {\n        dispatch(initializedSuccess())\n    })\n\n}\n\n\nexport default appReducer;","let initialState = {\n    sidebar:{}\n}\nconst sidebarReducer = (state=initialState,action) => {\n\n\n    return state;\n}\n\nexport  default sidebarReducer;","import {applyMiddleware, combineReducers, compose, createStore} from \"redux\";\nimport profileReducer from \"./profile-reducer\";\nimport dialogsReducer from \"./dialogs-reducer\";\nimport sidebarReducer from \"./sidebar-reducer\";\nimport usersReducer from \"./users-reducer\";\nimport authReducer from \"./auth-reducer\";\nimport thunkMiddleware from \"redux-thunk\";\nimport {reducer as formReducer} from \"redux-form\";\nimport appReducer from \"./app-reducer\";\n\nlet reducers = combineReducers({\n    profilePage: profileReducer,\n    dialogsPage: dialogsReducer,\n    sidebar: sidebarReducer,\n    usersPage: usersReducer,\n    auth: authReducer,\n    form: formReducer,\n    app: appReducer\n})\n\n\nlet store = createStore(\n    reducers,\n    compose(applyMiddleware(thunkMiddleware),\n        window.__REDUX_DEVTOOLS_EXTENSION__ && window.__REDUX_DEVTOOLS_EXTENSION__()),\n);\nwindow.store = store\nexport default store;","import React, {Suspense} from \"react\";\nimport \"./App.css\";\nimport Navbar from \"./components/Navbar/Navbar\";\nimport News from \"./components/News/News\";\nimport Settings from \"./components/Settings/Settings\";\nimport Music from \"./components/Music/Music\";\nimport {BrowserRouter, Navigate, Route, Routes} from \"react-router-dom\";\nimport UsersContainer from \"./components/Users/UsersContainer\";\nimport {withRouter} from \"./components/Profile/ProfileContainer\";\nimport HeaderContainer from \"./components/Header/HeaderContainer\";\nimport LoginPage from \"./components/Login/Login\";\nimport {connect, Provider} from \"react-redux\";\nimport {compose} from \"redux\";\nimport {initializeApp} from \"./redux/app-reducer\";\nimport Preloader from \"./components/common/Preloader/Preloader\";\nimport store from \"./redux/redux-store\";\n\nconst DialogsContainer = React.lazy(() => import(\"./components/Dialogs/DialogsContainer\"));\nconst ProfileContainer = React.lazy(() => import(\"./components/Profile/ProfileContainer\"));\n\nclass App extends React.Component {\n\n    componentDidMount() {\n        this.props.initializeApp();\n    }\n\n    render() {\n\n        if (!this.props.initialized) {\n            return <Preloader/>\n        }\n\n        function RedirectToProfile() {\n            return <Navigate to={`/profile`}/>;\n        }\n\n        return (\n            <div className=\"app-wrapper\">\n                <HeaderContainer/>\n                <div className='center'>\n                    <Navbar/>\n                    <div className=\"app-wrapper-content\">\n                        <Routes>\n                            <Route path='/'\n                                   element={<RedirectToProfile/>}/>\n\n                            <Route path='/dialogs'\n                                   element={\n                                       <Suspense fallback={<Preloader/>}>\n                                           <DialogsContainer/>\n                                       </Suspense>}/>\n                            <Route path='/profile'\n                                   element={\n                                       <Suspense fallback={<Preloader/>}>\n                                           <ProfileContainer/>\n                                       </Suspense>}/>}/>\n                            <Route path='/profile/:userId' element={<ProfileContainer/>}/>\n                            <Route path='/news' element={<News/>}/>\n                            <Route path='/music' element={<Music/>}/>\n                            <Route path='/settings' element={<Settings/>}/>\n                            <Route path='/users' element={<UsersContainer/>}/>\n                            <Route path='/login' element={<LoginPage/>}/>\n                            <Route path='*' element={<h1>404 NOT FOUND</h1>}/>\n                        </Routes>\n                    </div>\n                </div>\n            </div>\n\n        );\n    }\n}\n\nconst mapStateToProps = (state) => ({\n    initialized: state.app.initialized\n})\n\n\nconst AppContainer = compose(\n    withRouter,\n    connect(mapStateToProps, {initializeApp})\n)(App)\n\nconst SamuraiJSApp = (props) => {\n    return <BrowserRouter>\n        <Provider store={store}>\n            <AppContainer/>\n        </Provider>\n    </BrowserRouter>\n}\nexport default SamuraiJSApp;","import reportWebVitals from './reportWebVitals';\nimport ReactDOM from \"react-dom\";\nimport React from \"react\";\nimport SamuraiJSApp from \"./App\";\n\n\nReactDOM.render(\n    <SamuraiJSApp/>\n    , document.getElementById('root')\n);\n\nreportWebVitals();\n","import {profileAPI, usersAPI} from \"../api/api\";\nimport {stopSubmit} from \"redux-form\";\n\nconst ADD_POST = 'ADD-POST'\nconst SET_USER_PROFILE = 'SET_USER_PROFILE'\nconst SET_STATUS = 'SET_STATUS'\nconst DELETE_POST = 'DELETE_POST'\nconst SAVE_PHOTO_SUCCESS = 'SAVE_PHOTO_SUCCESS'\n\nlet initialState = {\n    posts: [\n        {id: 1, message: 'Hi, how are you?', likeCount: 12},\n        {id: 2, message: 'First post', likeCount: 4},\n        {id: 3, message: 'Second post', likeCount: 24},\n        {id: 4, message: 'Third post', likeCount: 14},\n    ],\n    profile: null,\n    status: \"\",\n}\nconst profileReducer = (state = initialState, action) => {\n    switch (action.type) {\n        case ADD_POST: {\n            let newPost = {\n                id: 1,\n                message: action.newPostText,\n                likeCount: 0\n            }\n            return {\n                ...state,\n                posts: [...state.posts, newPost],\n\n            }\n        }\n\n        case SET_USER_PROFILE:\n            return {\n                ...state, profile: action.profile\n            }\n        case SET_STATUS:\n            return {\n                ...state, status: action.status\n            }\n        case DELETE_POST:\n            return {\n                ...state,\n                posts: state.posts.filter(elem => elem.id !== action.idPost)\n            }\n\n        case SAVE_PHOTO_SUCCESS:\n\n            return {\n                ...state,\n                profile: {...state.profile, photos: action.photos}\n            }\n        default:\n            return state;\n    }\n\n\n}\n\nexport const addPostActionCreator = (newPostText) => ({type: ADD_POST, newPostText})\nexport const deletePost = (idPost) => ({type: DELETE_POST, idPost})\nexport const savePhotoSuccess = (photo) => ({type: SAVE_PHOTO_SUCCESS, photo})\n\nexport const setUserProfile = (profile) =>\n    ({type: SET_USER_PROFILE, profile})\nexport const setStatus = (status) =>\n    ({type: SET_STATUS, status})\n\n//Thunki\nexport const getUserProfile = (userId) => async (dispatch) => {\n    const response = await usersAPI.getProfile(userId)\n    dispatch(setUserProfile(response.data))\n}\n\nexport const getStatus = (userId) => async (dispatch) => {\n\n    const response = await profileAPI.getStatus(userId)\n    dispatch(setStatus(response.data))\n}\nexport const updateStatus = (status) => async (dispatch) => {\n    try {\n        const response = await profileAPI.updateStatus(status)\n        if (response.data.resultCode === 0) {\n            dispatch(setStatus(status))\n        }\n    }catch (e) {\n        console.log('Error', e)\n    }\n\n}\nexport const savePhoto = (file) => async (dispatch) => {\n    const response = await profileAPI.savePhoto(file)\n    if (response.data.resultCode === 0) {\n        dispatch(savePhotoSuccess(response.data.data.photos))\n    }\n}\nexport const saveProfile = (profile) => async (dispatch,getState) => {\n    const userId= getState().auth.userId\n    const response = await profileAPI.saveProfile(profile)\n    if (response.data.resultCode === 0) {\n        dispatch(getUserProfile(userId))\n    }else {\n        dispatch(stopSubmit('edit-profile', {_error: response.data.messages[0]}))\n        // dispatch(stopSubmit('edit-profile', {'contacts':{'facebook': response.data.messages[0]}}))\n    return Promise.reject(response.data.messages[0])\n    }\n}\n\n\nexport default profileReducer;","// extracted by mini-css-extract-plugin\nmodule.exports = {\"avatar\":\"Users_avatar__gHOlh\",\"follow\":\"Users_follow__2SEXO\",\"loadingSvg\":\"Users_loadingSvg__1G6RP\",\"user\":\"Users_user__1dQYj\",\"info\":\"Users_info__W1JxX\",\"name\":\"Users_name__3Kys8\",\"country\":\"Users_country__3q8XR\",\"showMore\":\"Users_showMore__36Q_f\",\"usersBlock\":\"Users_usersBlock__2PNX-\"};","export default __webpack_public_path__ + \"static/media/loading.971c05e8.svg\";","import style from \"./Preloader.module.css\";\nimport React from \"react\";\nimport  loadingSvg from '../../../assets/images/loading.svg'\n\nlet Preloader =(props)=>{\n    return (\n        <div>\n            <img className={style.loadingSvg} src={loadingSvg} alt='Loading'/>\n        </div>\n    )\n}\n\nexport default Preloader;","// extracted by mini-css-extract-plugin\nmodule.exports = {\"formControl\":\"FormsControls_formControl__3oI2W\",\"error\":\"FormsControls_error__9lcue\",\"formSummaryError\":\"FormsControls_formSummaryError__1F2-S\",\"loginWrapper\":\"FormsControls_loginWrapper__1yy0u\",\"login\":\"FormsControls_login__1Kal5\",\"inputs\":\"FormsControls_inputs__1QLGM\"};","\nexport  const required = (value) => {\n  if(value) return undefined;\n  return \"Field is required\"\n}\n\nexport  const maxLengthCreator = (maxLength) =>(value)=> {\n  if( value.length > maxLength) return `Max length is ${maxLength} symbols`;\n  return undefined;\n}","// extracted by mini-css-extract-plugin\nmodule.exports = {\"item\":\"Post_item__ihtu9\",\"post_avatar\":\"Post_post_avatar__XWwi8\",\"like\":\"Post_like__oViQh\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__1VCKf\",\"loginBlock\":\"Header_loginBlock__6mma5\",\"logo\":\"Header_logo__3_SJs\"};","export default __webpack_public_path__ + \"static/media/avatar.ba3e9327.png\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"selectedPage\":\"Paginator_selectedPage__3SIki\",\"pagination\":\"Paginator_pagination__1asUZ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"list\":\"MyPosts_list__3CHZW\",\"input\":\"MyPosts_input__1BvRL\"};"],"sourceRoot":""}